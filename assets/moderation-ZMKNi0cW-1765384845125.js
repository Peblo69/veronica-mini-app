import{c as o}from"./index-DLh4T2OH-1765384845125.js";const l=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],y=o("sparkles",l),i="https://eigfbxjheuwxmtdfnvqc.supabase.co/functions/v1/ai-guardrail",c="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVpZ2ZieGpoZXV3eG10ZGZudnFjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ0NDQ4NjEsImV4cCI6MjA4MDAyMDg2MX0.ilFCYkPxz8qJ3Yaw9Lt14JvdFlUsENKLYWXLYrHO8vA";async function n(a){const t=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify(a)});if(!t.ok){const e=await t.text();throw console.error("[Guardrail] Error:",t.status,e),new Error(e)}return t.json()}async function p(a){try{return(await n({type:"text",content:a}))?.result||null}catch{return null}}async function s(a){return new Promise((t,e)=>{const r=new FileReader;r.onload=()=>t(r.result),r.onerror=e,r.readAsDataURL(a)})}async function d(a){const e=await(await fetch(a)).blob();return s(e)}async function f(a){try{let t;return a instanceof File||a instanceof Blob?t=await s(a):a.startsWith("blob:")?t=await d(a):t=a,(await n({type:"image",imageUrl:t}))?.result||null}catch(t){return console.error("[moderateImage] Error:",t),null}}async function w(a,t){try{console.log("[Translate] Requesting translation to",t,":",a.slice(0,50));const e=await n({type:"translate",content:a,targetLanguage:t});if(console.log("[Translate] API response:",JSON.stringify(e)),e?.translated)return console.log("[Translate] Success:",e.translated.slice(0,50)),e.translated;throw console.warn("[Translate] No translation in response:",e),new Error("Translation service returned empty result")}catch(e){throw console.error("[Translate] Error:",e),e}}export{y as S,p as a,f as m,w as t};
