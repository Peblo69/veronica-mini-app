import{x as Re,y as fe,z as Le,B as Me,c as A,r as l,D as ze,E as Ee,F as ce,j as e,A as B,m as L,T as Pe,X as de,G as Fe,H as Te,I as $e,J as Ae}from"./index-D6g1R7Sk-1765498632362.js";import"./moderation-DkMdF02t-1765498632362.js";import{I as Ie}from"./image-CkwXjaCP-1765498632362.js";import{P as te}from"./play-VugIsPl0-1765498632362.js";import{C as he}from"./chevron-down-D1sX2J7a-1765498632362.js";import{C as Ve}from"./chevron-left-DohvH6dg-1765498632362.js";import{L as De}from"./loader-circle-BrL9Ign7-1765498632362.js";import{S as Oe}from"./sun-CujKR2XK-1765498632362.js";import{G as me}from"./globe-Do0Eohsd-1765498632362.js";import{U as ue}from"./users-1oA9OOYO-1765498632362.js";import{S as xe}from"./star-DnINlxR5-1765498632362.js";function Be(i){i.values.forEach(n=>n.stop())}function se(i,n){[...n].reverse().forEach(f=>{const w=i.getVariant(f);w&&fe(i,w),i.variantChildren&&i.variantChildren.forEach(m=>{se(m,n)})})}function He(i,n){if(Array.isArray(n))return se(i,n);if(typeof n=="string")return se(i,[n]);fe(i,n)}function We(){const i=new Set,n={subscribe(r){return i.add(r),()=>void i.delete(r)},start(r,f){const w=[];return i.forEach(m=>{w.push(Re(m,r,{transitionOverride:f}))}),Promise.all(w)},set(r){return i.forEach(f=>{He(f,r)})},stop(){i.forEach(r=>{Be(r)})},mount(){return()=>{n.stop()}}};return n}function qe(){const i=Le(We);return Me(i.mount,[]),i}const Ge=qe;const Je=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Xe=A("camera",Je);const Ze=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]],Ke=A("contrast",Ze);const Qe=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Ye=A("droplets",Qe);const et=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],tt=A("sliders-horizontal",et);const st=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],it=A("thermometer",st),S=[{id:"normal",name:"Normal",filter:"none"},{id:"vivid",name:"Vivid",filter:"saturate(1.3) contrast(1.1)"},{id:"warm",name:"Warm",filter:"sepia(0.2) saturate(1.1) brightness(1.05)"},{id:"cool",name:"Cool",filter:"saturate(0.9) hue-rotate(10deg) brightness(1.05)"},{id:"bw",name:"B&W",filter:"grayscale(1) contrast(1.1)"},{id:"vintage",name:"Vintage",filter:"sepia(0.4) contrast(0.9) brightness(0.95)"},{id:"fade",name:"Fade",filter:"contrast(0.85) brightness(1.1) saturate(0.8)"},{id:"dramatic",name:"Dramatic",filter:"contrast(1.3) saturate(1.2) brightness(0.95)"},{id:"noir",name:"Noir",filter:"grayscale(1) contrast(1.4) brightness(0.9)"}],H={brightness:100,contrast:100,saturation:100,warmth:0};function at(i){return new Promise(n=>{const r=document.createElement("img");r.onload=()=>{n({width:r.naturalWidth,height:r.naturalHeight,sizeBytes:i.size}),URL.revokeObjectURL(r.src)},r.onerror=()=>n({width:0,height:0,sizeBytes:i.size}),r.src=URL.createObjectURL(i)})}function rt(i){return new Promise(n=>{const r=document.createElement("video");r.preload="metadata",r.onloadedmetadata=()=>{n({width:r.videoWidth,height:r.videoHeight,duration:Math.round(r.duration),sizeBytes:i.size}),URL.revokeObjectURL(r.src)},r.onerror=()=>n({width:0,height:0,sizeBytes:i.size}),r.src=URL.createObjectURL(i)})}function jt({user:i,mode:n="media"}){const r=n==="text",[f,w]=l.useState("select"),[m,W]=l.useState(""),[a,M]=l.useState([]),[o,ie]=l.useState(0),[y,z]=l.useState("public"),[pe,q]=l.useState("public"),[be,G]=l.useState(!1),[g,E]=l.useState("normal"),[c,N]=l.useState(H),[J,we]=l.useState(!1),[X,Z]=l.useState(!1),[I,k]=l.useState(null),[lt,C]=l.useState("idle"),[ae,K]=l.useState(null),P=l.useRef(null),F=l.useRef(null),Q=l.useRef(null),U=Ge(),[ge,re]=l.useState(!1),V=i.is_creator;l.useEffect(()=>{let t=!0;if(!V){q("public"),z("public");return}return ze(i.telegram_id).then(s=>{if(!t||!s)return;const d=s.default_post_visibility||"public";q(d),z(d)}).catch(()=>{t&&(q("public"),z("public"))}),()=>{t=!1}},[i.telegram_id,V]),l.useEffect(()=>{F.current&&(F.current.style.height="auto",F.current.style.height=F.current.scrollHeight+"px")},[m]),l.useEffect(()=>{if(Q.current&&f==="edit"){const t=S.findIndex(d=>d.id===g),s=Q.current.children[t];s&&s.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[g,f]);const je=l.useCallback(async t=>{const s=Array.from(t.target.files||[]);if(s.length===0)return;const d=4-a.length,h=s.slice(0,d);for(const p of h){const u=Ee(p);if(u==="unknown")continue;C("checking"),K(null);const _=URL.createObjectURL(p);let R,D;if(u==="image")R=await at(p);else if(u==="video"){R=await rt(p);const b=await ce(p);b&&(D={file:b,preview:URL.createObjectURL(b)})}const T={file:p,preview:_,type:u,metadata:R,thumbnail:D};try{C("approved"),M(b=>[...b,T])}catch(b){console.error("Moderation check failed:",b),C("approved"),M(j=>[...j,T])}}P.current&&(P.current.value="")},[a.length]),ve=t=>{M(s=>{const d=[...s],h=d.splice(t,1)[0];return h&&(URL.revokeObjectURL(h.preview),h.thumbnail?.preview&&URL.revokeObjectURL(h.thumbnail.preview)),d}),a.length===1&&(C("idle"),K(null)),o>=a.length-1&&o>0&&ie(o-1)},le=()=>{const s=S.find(h=>h.id===g)?.filter||"none",d=[`brightness(${c.brightness/100})`,`contrast(${c.contrast/100})`,`saturate(${c.saturation/100})`,c.warmth!==0?`sepia(${Math.abs(c.warmth)/200})`:""].filter(Boolean).join(" ");return s==="none"?d||"none":`${s} ${d}`.trim()},ye=(t,s)=>{re(!1);const d=50,h=500;if(Math.abs(s.offset.x)>d||Math.abs(s.velocity.x)>h){const u=S.findIndex(_=>_.id===g);s.offset.x>0||s.velocity.x>h?u>0?(E(S[u-1].id),U.start({x:0,transition:{type:"spring",stiffness:300,damping:30}})):U.start({x:0,transition:{type:"spring",stiffness:500,damping:30}}):(s.offset.x<0||s.velocity.x<-h)&&(u<S.length-1?(E(S[u+1].id),U.start({x:0,transition:{type:"spring",stiffness:300,damping:30}})):U.start({x:0,transition:{type:"spring",stiffness:500,damping:30}}))}else U.start({x:0,transition:{type:"spring",stiffness:500,damping:30}})},Ne=()=>{a.length===0&&!r||w("edit")},ke=()=>w("select"),Se=async()=>{if(!X&&!(!m.trim()&&a.length===0)){Z(!0),k({message:"Preparing...",percentage:0});try{m.trim();let t,s=[],d,h,p,u,_,R;if(a.length>0){const j=a.length;for(let v=0;v<a.length;v++){const x=a[v],oe=v/j*80;let Y=x.file;x.type==="image"&&(k({message:`Compressing ${v+1}/${j}...`,percentage:oe+10}),Y=await Fe(Y)),k({message:`Uploading ${v+1}/${j}...`,percentage:oe+40});const $=await Te(Y,i.telegram_id);if($.error){alert("Upload failed: "+$.error),Z(!1),k(null);return}if($.url&&(s.push($.url),v===0&&(t=$.url,d=x.type==="other"?"image":x.type,p=x.metadata?.width,u=x.metadata?.height,_=x.metadata?.duration,R=x.metadata?.sizeBytes)),v===0&&x.type==="video"){let O=x.thumbnail?.file;if(O||(O=await ce(x.file)??void 0),O){const ee=await $e(O,i.telegram_id);!ee.error&&ee.url&&(h=ee.url)}}}}k({message:"Publishing...",percentage:90});const D=g!=="normal"||c.brightness!==100||c.contrast!==100||c.saturation!==100||c.warmth!==0?JSON.stringify({filter:g,adjustments:c}):void 0,T={content:m.trim(),media_url:t,media_urls:s.length>0?s:void 0,media_type:d,visibility:V?y:"public",is_nsfw:!1,unlock_price:0,media_width:p,media_height:u,media_duration:_,media_size_bytes:R,post_type:"thought",media_filter:D};h&&(T.media_thumbnail_url=h);const{error:b}=await Ae(i.telegram_id,T);b?alert(`Failed to create post: ${b.message||"Please try again."}`):(k({message:"Posted!",percentage:100}),setTimeout(()=>{W(""),z(pe),a.forEach(j=>{URL.revokeObjectURL(j.preview),j.thumbnail?.preview&&URL.revokeObjectURL(j.thumbnail.preview)}),M([]),C("idle"),k(null),E("normal"),N(H),w("select"),window.history.back()},1e3))}catch(t){console.error("Post error:",t),alert("Something went wrong")}finally{Z(!1)}}},Ce=()=>y==="public"?e.jsx(me,{className:"w-3.5 h-3.5"}):y==="followers"?e.jsx(ue,{className:"w-3.5 h-3.5"}):e.jsx(xe,{className:"w-3.5 h-3.5"}),Ue=()=>y==="public"?"Everyone":y==="followers"?"Followers":"Subscribers",ne=a.length>0||r&&m.trim().length>0,_e=()=>{W(""),a.forEach(t=>{URL.revokeObjectURL(t.preview),t.thumbnail?.preview&&URL.revokeObjectURL(t.thumbnail.preview)}),M([]),C("idle"),E("normal"),N(H),window.history.back()};return e.jsxs("div",{className:"h-full bg-black text-white flex flex-col overflow-hidden",children:[e.jsx("input",{ref:P,type:"file",accept:"image/*,video/*",multiple:!0,className:"hidden",onChange:je}),e.jsx(B,{children:I&&e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-16 h-16 mx-auto mb-4 relative",children:[e.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",children:[e.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"rgba(255,255,255,0.1)",strokeWidth:"4",fill:"none"}),e.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"white",strokeWidth:"4",fill:"none",strokeDasharray:175.9,strokeDashoffset:175.9-175.9*I.percentage/100,className:"transition-all duration-300"})]}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-sm font-bold",children:[Math.round(I.percentage),"%"]})]}),e.jsx("p",{className:"text-white/60 text-sm",children:I.message})]})})}),e.jsx(B,{children:ae&&e.jsxs(L.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-4 left-4 right-4 z-40 bg-red-500/90 backdrop-blur-sm rounded-xl p-4 flex items-start gap-3",children:[e.jsx(Pe,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"flex-1 text-sm font-medium",children:ae}),e.jsx("button",{onClick:()=>K(null),className:"p-1",children:e.jsx(de,{className:"w-4 h-4"})})]})}),f==="select"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[e.jsx("button",{onClick:_e,className:"text-white/60 text-[15px] font-medium",children:"Cancel"}),e.jsx("span",{className:"text-white text-[16px] font-semibold",children:"New post"}),e.jsx("button",{onClick:Ne,disabled:!ne,className:`px-4 py-1.5 rounded-full text-[14px] font-semibold transition-all ${ne?"bg-white text-black":"bg-white/10 text-white/30"}`,children:"Next"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-none",children:e.jsxs("div",{className:"px-4 py-4",children:[a.length===0?e.jsxs("button",{onClick:()=>P.current?.click(),className:"w-full aspect-[4/3] rounded-2xl border-2 border-dashed border-white/20 flex flex-col items-center justify-center gap-3 hover:border-white/30 transition-colors active:scale-[0.98]",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(Ie,{className:"w-8 h-8 text-white/40"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white text-[15px] font-medium",children:"Add photos or videos"}),e.jsx("p",{className:"text-white/40 text-[13px] mt-1",children:"Tap to select"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative aspect-[4/3] rounded-2xl overflow-hidden bg-white/5",children:[a[o]?.type==="image"?e.jsx("img",{src:a[o].preview,alt:"preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:a[o]?.thumbnail?.preview||a[o]?.preview,alt:"preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-14 h-14 rounded-full bg-black/60 backdrop-blur-sm flex items-center justify-center border-2 border-white/20",children:e.jsx(te,{className:"w-6 h-6 text-white ml-0.5",fill:"white"})})})]}),e.jsx("button",{onClick:()=>ve(o),className:"absolute top-2 right-2 w-7 h-7 rounded-full bg-black/60 backdrop-blur-sm flex items-center justify-center border border-white/15",children:e.jsx(de,{className:"w-3.5 h-3.5 text-white"})}),a.length>1&&e.jsxs("div",{className:"absolute top-2 left-2 px-2 py-0.5 rounded-full bg-black/60 backdrop-blur-sm text-[11px] font-medium text-white",children:[o+1,"/",a.length]})]}),a.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[a.map((t,s)=>e.jsxs("button",{onClick:()=>ie(s),className:`relative w-14 h-14 rounded-lg overflow-hidden flex-shrink-0 transition-all ${s===o?"ring-2 ring-white":"opacity-60"}`,children:[e.jsx("img",{src:t.type==="video"&&t.thumbnail?.preview||t.preview,alt:"",className:"w-full h-full object-cover"}),t.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:e.jsx(te,{className:"w-3 h-3 text-white",fill:"white"})})]},s)),a.length<4&&e.jsx("button",{onClick:()=>P.current?.click(),className:"w-14 h-14 rounded-lg border-2 border-dashed border-white/20 flex items-center justify-center flex-shrink-0 hover:border-white/30",children:e.jsx(Xe,{className:"w-5 h-5 text-white/40"})})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("textarea",{ref:F,value:m,onChange:t=>W(t.target.value.slice(0,2200)),placeholder:"Write a caption...",className:"w-full bg-transparent text-white text-[15px] placeholder-white/40 resize-none focus:outline-none min-h-[80px] leading-relaxed",rows:3}),m.length>2e3&&e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:`text-[11px] ${m.length>2100?"text-orange-400":"text-white/30"}`,children:[m.length,"/2200"]})})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-white/10",children:e.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 hover:bg-white/8 transition-colors",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-white/10 flex items-center justify-center",children:Ce()}),e.jsx("span",{className:"text-white text-[13px] font-medium",children:Ue()}),e.jsx(he,{className:"w-4 h-4 text-white/40"})]})})]})})]}),f==="edit"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[e.jsxs("button",{onClick:ke,className:"flex items-center gap-1 text-white/60",children:[e.jsx(Ve,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[15px] font-medium",children:"Back"})]}),e.jsx("span",{className:"text-white text-[16px] font-semibold",children:"Edit"}),e.jsx("button",{onClick:Se,disabled:X,className:"px-4 py-1.5 rounded-full text-[14px] font-semibold bg-white text-black transition-all",children:X?e.jsx(De,{className:"w-4 h-4 animate-spin"}):"Post"})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx("div",{className:"border-b border-white/10 flex-shrink-0",children:e.jsx("div",{ref:Q,className:"flex gap-2 px-3 py-3 overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:S.map(t=>e.jsxs("button",{onClick:()=>E(t.id),className:`flex flex-col items-center gap-1.5 flex-shrink-0 transition-all ${g===t.id?"opacity-100":"opacity-50"}`,children:[e.jsx("div",{className:`w-14 h-14 rounded-lg overflow-hidden border-2 transition-colors ${g===t.id?"border-white":"border-transparent"}`,children:a[o]&&e.jsx("img",{src:a[o].type==="video"&&a[o].thumbnail?.preview||a[o].preview,alt:"",className:"w-full h-full object-cover",style:{filter:t.filter}})}),e.jsx("span",{className:`text-[10px] font-medium ${g===t.id?"text-white":"text-white/60"}`,children:t.name})]},t.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-none",children:e.jsxs(L.div,{className:"p-4",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragStart:()=>re(!0),onDragEnd:ye,animate:U,style:{cursor:ge?"grabbing":"grab"},children:[e.jsx("div",{className:"relative rounded-2xl overflow-hidden bg-white/5",children:a[o]?.type==="image"?e.jsx("img",{src:a[o].preview,alt:"preview",className:"w-full h-auto object-contain rounded-2xl pointer-events-none",style:{filter:le()},draggable:!1}):e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:a[o]?.thumbnail?.preview||a[o]?.preview,alt:"preview",className:"w-full h-auto rounded-2xl pointer-events-none",style:{filter:le()},draggable:!1}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-black/60 backdrop-blur-sm flex items-center justify-center border-2 border-white/20",children:e.jsx(te,{className:"w-7 h-7 text-white ml-1",fill:"white"})})})]})}),e.jsx("p",{className:"text-center text-white/30 text-[11px] mt-3",children:"Swipe left or right to change filter"})]})}),e.jsxs("div",{className:"border-t border-white/10 flex-shrink-0",children:[e.jsxs("button",{onClick:()=>we(!J),className:"w-full flex items-center justify-center gap-2 py-2.5 text-white/60 hover:text-white transition-colors",children:[e.jsx(tt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-[13px] font-medium",children:"Manual Adjustments"}),e.jsx(he,{className:`w-4 h-4 transition-transform duration-200 ${J?"rotate-180":""}`})]}),e.jsx(B,{children:J&&e.jsx(L.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden px-4 pb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Oe,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[11px] text-white/50",children:"Brightness"}),e.jsxs("span",{className:"text-[11px] text-white/30",children:[c.brightness,"%"]})]}),e.jsx("input",{type:"range",min:"50",max:"150",value:c.brightness,onChange:t=>N(s=>({...s,brightness:Number(t.target.value)})),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3.5 [&::-webkit-slider-thumb]:h-3.5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ke,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[11px] text-white/50",children:"Contrast"}),e.jsxs("span",{className:"text-[11px] text-white/30",children:[c.contrast,"%"]})]}),e.jsx("input",{type:"range",min:"50",max:"150",value:c.contrast,onChange:t=>N(s=>({...s,contrast:Number(t.target.value)})),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3.5 [&::-webkit-slider-thumb]:h-3.5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ye,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[11px] text-white/50",children:"Saturation"}),e.jsxs("span",{className:"text-[11px] text-white/30",children:[c.saturation,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"200",value:c.saturation,onChange:t=>N(s=>({...s,saturation:Number(t.target.value)})),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3.5 [&::-webkit-slider-thumb]:h-3.5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(it,{className:"w-4 h-4 text-white/50 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[11px] text-white/50",children:"Warmth"}),e.jsxs("span",{className:"text-[11px] text-white/30",children:[c.warmth>0?"+":"",c.warmth]})]}),e.jsx("input",{type:"range",min:"-50",max:"50",value:c.warmth,onChange:t=>N(s=>({...s,warmth:Number(t.target.value)})),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-3.5 [&::-webkit-slider-thumb]:h-3.5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"})]})]}),e.jsx("button",{onClick:()=>N(H),className:"w-full py-1.5 text-[12px] text-white/30 hover:text-white/50 transition-colors",children:"Reset all"})]})})})]})]})]}),e.jsx("div",{className:"h-4 flex-shrink-0"}),e.jsx(B,{children:be&&e.jsxs(e.Fragment,{children:[e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-40",onClick:()=>G(!1)}),e.jsxs(L.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-0 left-0 right-0 bg-[#1c1c1e] rounded-t-2xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-lg font-semibold text-center mb-4",children:"Who can see this?"}),e.jsx("div",{className:"space-y-2",children:[{value:"public",icon:me,label:"Everyone",desc:"Anyone can see"},{value:"followers",icon:ue,label:"Followers",desc:"Only followers"},...V?[{value:"subscribers",icon:xe,label:"Subscribers",desc:"Paid subscribers only"}]:[]].map(t=>e.jsxs("button",{onClick:()=>{z(t.value),G(!1)},className:`w-full flex items-center gap-3 p-3 rounded-xl transition-colors ${y===t.value?"bg-white/10":""}`,children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(t.icon,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-white text-[14px] font-medium",children:t.label}),e.jsx("p",{className:"text-white/50 text-[12px]",children:t.desc})]}),y===t.value&&e.jsx("div",{className:"w-5 h-5 rounded-full bg-white flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-black"})})]},t.value))})]}),e.jsx("div",{className:"h-8"})]})]})})]})}export{jt as default};
