import{c as D,r as a,x as Ce,y as Ue,z as re,j as e,A as B,m as C,T as Re,X as ne,B as _e,D as Le,E as Fe,F as Pe}from"./index-B4XYfxrS-1765497923297.js";import"./moderation-DkMdF02t-1765497923297.js";import{I as $e}from"./image-Bmcwy_eW-1765497923297.js";import{P as Y}from"./play-WVYoiyOP-1765497923297.js";import{C as ce}from"./chevron-down-BBpppKJR-1765497923297.js";import{C as ze}from"./chevron-left-3-STn9Gp-1765497923297.js";import{L as Ee}from"./loader-circle-CiTEZ8vf-1765497923297.js";import{S as oe}from"./sun-Dx-RJzCo-1765497923297.js";import{G as de}from"./globe-Bl4_U5UH-1765497923297.js";import{U as he}from"./users-BNnDFBP5-1765497923297.js";import{S as me}from"./star-BSyEUHYy-1765497923297.js";const Me=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Te=D("camera",Me);const Oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]],Ae=D("contrast",Oe);const Ve=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Be=D("droplets",Ve);const Ie=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],De=D("thermometer",Ie),U=[{id:"original",name:"Original",filter:"none"},{id:"vivid",name:"Vivid",filter:"saturate(1.3) contrast(1.1)"},{id:"warm",name:"Warm",filter:"sepia(0.2) saturate(1.1) brightness(1.05)"},{id:"cool",name:"Cool",filter:"saturate(0.9) hue-rotate(10deg) brightness(1.05)"},{id:"bw",name:"B&W",filter:"grayscale(1) contrast(1.1)"},{id:"vintage",name:"Vintage",filter:"sepia(0.4) contrast(0.9) brightness(0.95)"},{id:"fade",name:"Fade",filter:"contrast(0.85) brightness(1.1) saturate(0.8)"},{id:"dramatic",name:"Dramatic",filter:"contrast(1.3) saturate(1.2) brightness(0.95)"},{id:"noir",name:"Noir",filter:"grayscale(1) contrast(1.4) brightness(0.9)"}],I={brightness:100,contrast:100,saturation:100,warmth:0};function We(o){return new Promise(b=>{const n=document.createElement("img");n.onload=()=>{b({width:n.naturalWidth,height:n.naturalHeight,sizeBytes:o.size}),URL.revokeObjectURL(n.src)},n.onerror=()=>{b({width:0,height:0,sizeBytes:o.size})},n.src=URL.createObjectURL(o)})}function He(o){return new Promise(b=>{const n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=()=>{b({width:n.videoWidth,height:n.videoHeight,duration:Math.round(n.duration),sizeBytes:o.size}),URL.revokeObjectURL(n.src)},n.onerror=()=>{b({width:0,height:0,sizeBytes:o.size})},n.src=URL.createObjectURL(o)})}function rt({user:o,mode:b="media"}){const n=b==="text",[ee,W]=a.useState("select"),[u,H]=a.useState(""),[s,R]=a.useState([]),[l,te]=a.useState(0),[h,w]=a.useState("public"),[xe,q]=a.useState("public"),[ue,_]=a.useState(!1),[g,L]=a.useState("original"),[r,j]=a.useState(I),[G,fe]=a.useState(!1),[J,X]=a.useState(!1),[z,v]=a.useState(null),[qe,k]=a.useState("idle"),[se,Z]=a.useState(null),F=a.useRef(null),P=a.useRef(null),pe=a.useRef(null),E=o.is_creator;a.useEffect(()=>{let t=!0;if(!E){q("public"),w("public");return}return Ce(o.telegram_id).then(i=>{if(!t||!i)return;const c=i.default_post_visibility||"public";q(c),w(c)}).catch(()=>{t&&(q("public"),w("public"))}),()=>{t=!1}},[o.telegram_id,E]),a.useEffect(()=>{P.current&&(P.current.style.height="auto",P.current.style.height=P.current.scrollHeight+"px")},[u]);const be=a.useCallback(async t=>{const i=Array.from(t.target.files||[]);if(i.length===0)return;const c=4-s.length,d=i.slice(0,c);for(const f of d){const N=Ue(f);if(N==="unknown")continue;k("checking"),Z(null);const M=URL.createObjectURL(f);let S,T;if(N==="image")S=await We(f);else if(N==="video"){S=await He(f);const x=await re(f);x&&(T={file:x,preview:URL.createObjectURL(x)})}const O={file:f,preview:M,type:N,metadata:S,thumbnail:T};try{k("approved"),R(x=>[...x,O])}catch(x){console.error("Moderation check failed:",x),k("approved"),R(A=>[...A,O])}}F.current&&(F.current.value="")},[s.length]),we=t=>{R(i=>{const c=[...i],d=c.splice(t,1)[0];return d&&(URL.revokeObjectURL(d.preview),d.thumbnail?.preview&&URL.revokeObjectURL(d.thumbnail.preview)),c}),s.length===1&&(k("idle"),Z(null)),l>=s.length-1&&l>0&&te(l-1)},ie=()=>{const i=U.find(d=>d.id===g)?.filter||"none",c=[`brightness(${r.brightness/100})`,`contrast(${r.contrast/100})`,`saturate(${r.saturation/100})`,r.warmth!==0?`sepia(${Math.abs(r.warmth)/200})`:""].filter(Boolean).join(" ");return i==="none"?c||"none":`${i} ${c}`.trim()},ge=(t,i)=>{if(Math.abs(i.offset.x)>50){const c=U.findIndex(d=>d.id===g);i.offset.x>0&&c>0?L(U[c-1].id):i.offset.x<0&&c<U.length-1&&L(U[c+1].id)}},je=()=>{s.length===0&&!n||W("edit")},ve=()=>{W("select")},Ne=async()=>{if(!J&&!(!u.trim()&&s.length===0)){X(!0),v({message:"Preparing...",percentage:0});try{u.trim();let t,i=[],c,d,f,N,M,S;if(s.length>0){const y=s.length;for(let p=0;p<s.length;p++){const m=s[p],le=p/y*80;let K=m.file;m.type==="image"&&(v({message:`Compressing ${p+1}/${y}...`,percentage:le+10}),K=await _e(K)),v({message:`Uploading ${p+1}/${y}...`,percentage:le+40});const $=await Le(K,o.telegram_id);if($.error){alert("Upload failed: "+$.error),X(!1),v(null);return}if($.url&&(i.push($.url),p===0&&(t=$.url,c=m.type==="other"?"image":m.type,f=m.metadata?.width,N=m.metadata?.height,M=m.metadata?.duration,S=m.metadata?.sizeBytes)),p===0&&m.type==="video"){let V=m.thumbnail?.file;if(V||(V=await re(m.file)??void 0),V){const Q=await Fe(V,o.telegram_id);!Q.error&&Q.url&&(d=Q.url)}}}}v({message:"Publishing...",percentage:90});const T=E?h:"public",O=g!=="original"||r.brightness!==100||r.contrast!==100||r.saturation!==100||r.warmth!==0?JSON.stringify({filter:g,adjustments:r}):void 0,x={content:u.trim(),media_url:t,media_urls:i.length>0?i:void 0,media_type:c,visibility:T,is_nsfw:!1,unlock_price:0,media_width:f,media_height:N,media_duration:M,media_size_bytes:S,post_type:"thought",media_filter:O};d&&(x.media_thumbnail_url=d);const{error:A}=await Pe(o.telegram_id,x);A?alert(`Failed to create post: ${A.message||"Please try again."}`):(v({message:"Posted!",percentage:100}),setTimeout(()=>{H(""),w(xe),s.forEach(y=>{URL.revokeObjectURL(y.preview),y.thumbnail?.preview&&URL.revokeObjectURL(y.thumbnail.preview)}),R([]),k("idle"),v(null),L("original"),j(I),W("select"),window.history.back()},1e3))}catch(t){console.error("Post error:",t),alert("Something went wrong")}finally{X(!1)}}},ye=()=>h==="public"?e.jsx(de,{className:"w-4 h-4"}):h==="followers"?e.jsx(he,{className:"w-4 h-4"}):e.jsx(me,{className:"w-4 h-4"}),ke=()=>h==="public"?"Everyone":h==="followers"?"Followers":"Subscribers",ae=s.length>0||n&&u.trim().length>0,Se=()=>{H(""),s.forEach(t=>{URL.revokeObjectURL(t.preview),t.thumbnail?.preview&&URL.revokeObjectURL(t.thumbnail.preview)}),R([]),k("idle"),L("original"),j(I),window.history.back()};return e.jsxs("div",{className:"h-full bg-black text-white flex flex-col overflow-hidden",children:[e.jsx("input",{ref:F,type:"file",accept:"image/*,video/*",multiple:!0,className:"hidden",onChange:be}),e.jsx(B,{children:z&&e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-16 h-16 mx-auto mb-4 relative",children:[e.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",children:[e.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"rgba(255,255,255,0.1)",strokeWidth:"4",fill:"none"}),e.jsx("circle",{cx:"32",cy:"32",r:"28",stroke:"white",strokeWidth:"4",fill:"none",strokeDasharray:175.9,strokeDashoffset:175.9-175.9*z.percentage/100,className:"transition-all duration-300"})]}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-sm font-bold",children:[Math.round(z.percentage),"%"]})]}),e.jsx("p",{className:"text-white/60 text-sm",children:z.message})]})})}),e.jsx(B,{children:se&&e.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-4 left-4 right-4 z-40 bg-red-500/90 backdrop-blur-sm rounded-xl p-4 flex items-start gap-3",children:[e.jsx(Re,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm font-medium",children:se})}),e.jsx("button",{onClick:()=>Z(null),className:"p-1",children:e.jsx(ne,{className:"w-4 h-4"})})]})}),ee==="select"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[e.jsx("button",{onClick:Se,className:"text-white/60 text-[15px] font-medium",children:"Cancel"}),e.jsx("span",{className:"text-white text-[16px] font-semibold",children:"New post"}),e.jsx("button",{onClick:je,disabled:!ae,className:`px-5 py-1.5 rounded-full text-[14px] font-semibold transition-all ${ae?"bg-white text-black":"bg-white/10 text-white/30"}`,children:"Next"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-none",children:e.jsxs("div",{className:"px-4 py-4",children:[s.length===0?e.jsxs("button",{onClick:()=>F.current?.click(),className:"w-full aspect-square rounded-2xl border-2 border-dashed border-white/20 flex flex-col items-center justify-center gap-4 hover:border-white/30 transition-colors active:scale-[0.98]",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx($e,{className:"w-10 h-10 text-white/40"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-white text-[16px] font-medium",children:"Add photos or videos"}),e.jsx("p",{className:"text-white/40 text-[14px] mt-1",children:"Tap to select from gallery"})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-white/5",children:[s[l]?.type==="image"?e.jsx("img",{src:s[l].preview,alt:"preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:s[l]?.thumbnail?.preview||s[l]?.preview,alt:"preview",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-black/60 backdrop-blur-sm flex items-center justify-center border-2 border-white/20",children:e.jsx(Y,{className:"w-7 h-7 text-white ml-1",fill:"white"})})})]}),e.jsx("button",{onClick:()=>we(l),className:"absolute top-3 right-3 w-8 h-8 rounded-full bg-black/60 backdrop-blur-sm flex items-center justify-center border border-white/15",children:e.jsx(ne,{className:"w-4 h-4 text-white"})}),s.length>1&&e.jsxs("div",{className:"absolute top-3 left-3 px-2.5 py-1 rounded-full bg-black/60 backdrop-blur-sm text-[12px] font-medium text-white",children:[l+1,"/",s.length]})]}),s.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[s.map((t,i)=>e.jsxs("button",{onClick:()=>te(i),className:`relative w-16 h-16 rounded-xl overflow-hidden flex-shrink-0 transition-all ${i===l?"ring-2 ring-white":"opacity-60"}`,children:[e.jsx("img",{src:t.type==="video"&&t.thumbnail?.preview||t.preview,alt:"",className:"w-full h-full object-cover"}),t.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30",children:e.jsx(Y,{className:"w-4 h-4 text-white",fill:"white"})})]},i)),s.length<4&&e.jsx("button",{onClick:()=>F.current?.click(),className:"w-16 h-16 rounded-xl border-2 border-dashed border-white/20 flex items-center justify-center flex-shrink-0 hover:border-white/30 transition-colors",children:e.jsx(Te,{className:"w-6 h-6 text-white/40"})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("textarea",{ref:P,value:u,onChange:t=>H(t.target.value.slice(0,2200)),placeholder:"Write a caption...",className:"w-full bg-transparent text-white text-[16px] placeholder-white/40 resize-none focus:outline-none min-h-[100px] leading-relaxed",rows:3}),u.length>2e3&&e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:`text-xs ${u.length>2100?"text-orange-400":"text-white/30"}`,children:[u.length,"/2200"]})})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-white/10",children:e.jsxs("button",{onClick:()=>_(!0),className:"w-full flex items-center justify-between p-4 rounded-2xl bg-white/5 border border-white/10 hover:bg-white/8 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:ye()}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-white text-[15px] font-medium",children:ke()}),e.jsx("p",{className:"text-white/40 text-[13px]",children:"Who can see this post"})]})]}),e.jsx(ce,{className:"w-5 h-5 text-white/40"})]})})]})})]}),ee==="edit"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/10",children:[e.jsxs("button",{onClick:ve,className:"flex items-center gap-1 text-white/60",children:[e.jsx(ze,{className:"w-5 h-5"}),e.jsx("span",{className:"text-[15px] font-medium",children:"Back"})]}),e.jsx("span",{className:"text-white text-[16px] font-semibold",children:"Edit"}),e.jsx("button",{onClick:Ne,disabled:J,className:"px-5 py-1.5 rounded-full text-[14px] font-semibold bg-white text-black transition-all",children:J?e.jsx(Ee,{className:"w-4 h-4 animate-spin"}):"Post"})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs(C.div,{className:"flex-1 relative overflow-hidden",drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragEnd:ge,children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:s[l]?.type==="image"?e.jsx("img",{src:s[l].preview,alt:"preview",className:"max-w-full max-h-full object-contain rounded-2xl",style:{filter:ie()}}):e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx("img",{src:s[l]?.thumbnail?.preview||s[l]?.preview,alt:"preview",className:"w-full rounded-2xl",style:{filter:ie()}}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full bg-black/60 backdrop-blur-sm flex items-center justify-center border-2 border-white/20",children:e.jsx(Y,{className:"w-7 h-7 text-white ml-1",fill:"white"})})})]})}),e.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center",children:e.jsx("p",{className:"text-white/40 text-[12px]",children:"Swipe to change filter"})})]}),e.jsx("div",{className:"border-t border-white/10",children:e.jsx("div",{ref:pe,className:"flex gap-3 px-4 py-4 overflow-x-auto scrollbar-hide",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:U.map(t=>e.jsxs("button",{onClick:()=>L(t.id),className:`flex flex-col items-center gap-2 flex-shrink-0 transition-all ${g===t.id?"opacity-100":"opacity-50"}`,children:[e.jsx("div",{className:`w-16 h-16 rounded-xl overflow-hidden border-2 transition-colors ${g===t.id?"border-white":"border-transparent"}`,children:s[l]&&e.jsx("img",{src:s[l].type==="video"&&s[l].thumbnail?.preview||s[l].preview,alt:"",className:"w-full h-full object-cover",style:{filter:t.filter}})}),e.jsx("span",{className:`text-[11px] font-medium ${g===t.id?"text-white":"text-white/60"}`,children:t.name})]},t.id))})}),e.jsxs("div",{className:"border-t border-white/10",children:[e.jsxs("button",{onClick:()=>fe(!G),className:"w-full flex items-center justify-center gap-2 py-3 text-white/60 hover:text-white transition-colors",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-[14px] font-medium",children:"Adjustments"}),e.jsx(ce,{className:`w-4 h-4 transition-transform ${G?"rotate-180":""}`})]}),e.jsx(B,{children:G&&e.jsx(C.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden px-4 pb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(oe,{className:"w-5 h-5 text-white/60 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[12px] text-white/60",children:"Brightness"}),e.jsxs("span",{className:"text-[12px] text-white/40",children:[r.brightness,"%"]})]}),e.jsx("input",{type:"range",min:"50",max:"150",value:r.brightness,onChange:t=>j(i=>({...i,brightness:Number(t.target.value)})),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ae,{className:"w-5 h-5 text-white/60 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[12px] text-white/60",children:"Contrast"}),e.jsxs("span",{className:"text-[12px] text-white/40",children:[r.contrast,"%"]})]}),e.jsx("input",{type:"range",min:"50",max:"150",value:r.contrast,onChange:t=>j(i=>({...i,contrast:Number(t.target.value)})),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Be,{className:"w-5 h-5 text-white/60 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[12px] text-white/60",children:"Saturation"}),e.jsxs("span",{className:"text-[12px] text-white/40",children:[r.saturation,"%"]})]}),e.jsx("input",{type:"range",min:"0",max:"200",value:r.saturation,onChange:t=>j(i=>({...i,saturation:Number(t.target.value)})),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(De,{className:"w-5 h-5 text-white/60 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-[12px] text-white/60",children:"Warmth"}),e.jsxs("span",{className:"text-[12px] text-white/40",children:[r.warmth>0?"+":"",r.warmth]})]}),e.jsx("input",{type:"range",min:"-50",max:"50",value:r.warmth,onChange:t=>j(i=>({...i,warmth:Number(t.target.value)})),className:"w-full h-1 bg-white/20 rounded-full appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-white"})]})]}),e.jsx("button",{onClick:()=>j(I),className:"w-full py-2 text-[13px] text-white/40 hover:text-white/60 transition-colors",children:"Reset adjustments"})]})})})]})]})]}),e.jsx("div",{className:"h-4"}),e.jsx(B,{children:ue&&e.jsxs(e.Fragment,{children:[e.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-40",onClick:()=>_(!1)}),e.jsxs(C.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-0 left-0 right-0 bg-[#1c1c1e] rounded-t-2xl z-50 overflow-hidden",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"w-10 h-1 bg-white/20 rounded-full mx-auto mb-4"}),e.jsx("h3",{className:"text-white text-lg font-semibold text-center mb-4",children:"Who can see this?"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>{w("public"),_(!1)},className:`w-full flex items-center gap-3 p-4 rounded-xl transition-colors ${h==="public"?"bg-white/10":"bg-transparent"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-white font-medium",children:"Everyone"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Anyone can see this post"})]}),h==="public"&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-black"})})]}),e.jsxs("button",{onClick:()=>{w("followers"),_(!1)},className:`w-full flex items-center gap-3 p-4 rounded-xl transition-colors ${h==="followers"?"bg-white/10":"bg-transparent"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(he,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-white font-medium",children:"Followers"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Only people who follow you"})]}),h==="followers"&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-black"})})]}),E&&e.jsxs("button",{onClick:()=>{w("subscribers"),_(!1)},className:`w-full flex items-center gap-3 p-4 rounded-xl transition-colors ${h==="subscribers"?"bg-white/10":"bg-transparent"}`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(me,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"text-white font-medium",children:"Subscribers"}),e.jsx("p",{className:"text-white/50 text-sm",children:"Only your paid subscribers"})]}),h==="subscribers"&&e.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 rounded-full bg-black"})})]})]})]}),e.jsx("div",{className:"h-8"})]})]})})]})}export{rt as default};
